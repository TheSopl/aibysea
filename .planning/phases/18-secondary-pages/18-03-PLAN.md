---
phase: 18-secondary-pages
plan: 03
type: execute
---

<objective>
Make Document Intelligence pages (Upload, Templates) fully responsive with mobile-first design patterns.

Purpose: Ensure Document Intelligence module provides consistent mobile experience matching established patterns.
Output: Two responsive Document Intelligence pages with proper touch targets and mobile layouts.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

**Prior work establishing patterns:**
@.planning/phases/18-secondary-pages/18-02-SUMMARY.md

**Source files to modify:**
@src/app/(main)/upload/page.tsx
@src/app/(main)/templates/page.tsx

**Established patterns:**
- Responsive padding: p-4 sm:p-6 lg:p-8
- Stats grid: grid-cols-2 md:grid-cols-4
- Touch targets: min-h-[44px] for buttons, min-h-[72px] for list items
- Full-width buttons on mobile: w-full sm:w-auto
</context>

<tasks>

<task type="auto">
  <name>Task 1: Upload page responsive layout</name>
  <files>src/app/(main)/upload/page.tsx</files>
  <action>
Apply established responsive patterns to Upload page:

1. **Responsive container padding:**
   - Change `p-8` to `p-4 sm:p-6 lg:p-8`

2. **Stats grid (already grid-cols-1 md:grid-cols-4):**
   - Change to `grid-cols-2 md:grid-cols-4`
   - Responsive stat card padding: change `p-6` to `p-4 sm:p-6`
   - Responsive icon size: `w-10 h-10 sm:w-12 sm:h-12`
   - Responsive text: `text-2xl sm:text-3xl` for stat numbers

3. **Upload zone and template selector grid:**
   - Currently `grid grid-cols-1 lg:grid-cols-3` - good for stacking
   - Upload zone: change `p-8` to `p-4 sm:p-6 lg:p-8`
   - Upload zone inner: `py-8 sm:py-12` for reduced vertical padding on mobile
   - Choose File button: add `min-h-[44px]` for touch target

4. **Template selector:**
   - Template buttons already have p-4 padding, ensure touch targets
   - Add `min-h-[56px]` to each template button for touch accessibility

5. **Processing documents section:**
   - Cards already have responsive styling
   - Verify touch targets on any action buttons

6. **Recent uploads grid (grid-cols-1 md:grid-cols-2 lg:grid-cols-3):**
   - Good as-is, verify card touch targets
   - Action buttons: ensure `min-h-[44px]` and adequate padding
  </action>
  <verify>
- Open at 375px: stats in 2x2 grid, upload zone full-width, template selector below
- Upload zone button is tappable (44px height)
- Template options are tappable
- Recent uploads stack in single column
- No horizontal scroll at 320px
  </verify>
  <done>
- Responsive padding throughout page
- Stats show 2-column grid on mobile
- Upload zone properly sized on mobile
- All touch targets meet 44px minimum
- Template selector options are mobile-friendly
  </done>
</task>

<task type="auto">
  <name>Task 2: Templates page responsive layout</name>
  <files>src/app/(main)/templates/page.tsx</files>
  <action>
Apply responsive patterns to Templates page (focus on essential responsive fixes, not form builder redesign):

1. **Responsive container padding:**
   - Change `p-8` to `p-4 sm:p-6 lg:p-8`

2. **Stats grid (already grid-cols-1 md:grid-cols-4):**
   - Change to `grid-cols-2 md:grid-cols-4`
   - Responsive stat card padding: `p-4 sm:p-6`
   - Responsive icon size: `w-10 h-10 sm:w-12 sm:h-12`
   - Responsive text: `text-2xl sm:text-3xl` for stat numbers

3. **Main grid layout (grid-cols-1 lg:grid-cols-3):**
   - Good for mobile stacking
   - Template list takes 2 cols on desktop: `lg:col-span-2`

4. **Template list header:**
   - Stack on mobile: `flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-0`
   - Create button: `w-full sm:w-auto min-h-[44px]` with `justify-center`
   - Responsive text: `text-xl sm:text-2xl` for heading

5. **Template cards grid (grid-cols-1 md:grid-cols-2):**
   - Good as-is
   - Card padding: ensure `p-4 sm:p-6`
   - Action buttons row: ensure buttons have `min-h-[44px]`

6. **Template builder form (when showCreateForm is true):**
   - Form panel: change `p-6` to `p-4 sm:p-6`
   - Add responsive max-height: `max-h-[calc(100vh-200px)] sm:max-h-[calc(100vh-180px)]`
   - Section buttons: ensure min-h-[44px] for touch
   - Form inputs: ensure full-width on mobile
   - Add Field button: `min-h-[44px]`
   - Action buttons at bottom: `flex-col sm:flex-row gap-2` with `w-full sm:flex-1`

7. **Form field cards within builder:**
   - Already have adequate padding
   - Delete/drag handles: ensure `min-h-[44px] min-w-[44px]` touch targets
  </action>
  <verify>
- Open at 375px: stats in 2x2 grid, templates stack below
- Create button is full-width on mobile
- Template cards are readable on mobile
- Click Create New Template - form opens, is scrollable on mobile
- Form inputs are full-width
- Add Field button is tappable
- Cancel/Save buttons stack properly on mobile
- No horizontal scroll at 320px
  </verify>
  <done>
- Responsive padding throughout page
- Stats show 2-column grid on mobile
- Template cards mobile-friendly
- Template builder form usable on mobile
- All touch targets meet 44px minimum
- Form builder scrollable on mobile devices
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Responsive Document Intelligence pages (Upload, Templates)</what-built>
  <how-to-verify>
    1. Run: npm run dev
    2. Open DevTools and set viewport to iPhone 14 (390px)
    3. Navigate to Upload & Process (/upload):
       - Verify stats in 2x2 grid
       - Verify upload zone is full-width
       - Verify template selector below upload zone
       - Verify "Choose File" button is tappable
       - Scroll down - verify recent uploads cards stack
    4. Navigate to Templates (/templates):
       - Verify stats in 2x2 grid
       - Verify "Create New Template" button is full-width
       - Verify template cards stack in single column
       - Click "Create New Template":
         - Form should be scrollable
         - Inputs should be full-width
         - Expand "Field Definitions" - click "Add Field"
         - Verify add field button is tappable
         - Cancel/Save buttons should be visible
    5. Test at iPad width (768px):
       - Layouts should transition smoothly
    6. Test at desktop width (1280px):
       - Side-by-side layouts should be restored
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe any issues found</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] No TypeScript errors
- [ ] Upload page has responsive stats and layout
- [ ] Templates page has responsive stats and builder form
- [ ] All touch targets meet 44px minimum
- [ ] No horizontal overflow at 320px viewport
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Document Intelligence pages work well on mobile
- Template builder form is usable on mobile devices
</success_criteria>

<output>
After completion, create `.planning/phases/18-secondary-pages/18-03-SUMMARY.md` following summary.md template.

Include frontmatter with:
- phase: 18-secondary-pages
- plan: 03
- subsystem: ui
- tags: [responsive, mobile, document-intelligence, forms]
- patterns-established: (any new patterns)
- key-files modified
</output>
