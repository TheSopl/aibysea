---
phase: 15-mobile-foundation
plan: 01
type: execute
---

<objective>
Establish the responsive breakpoint system and design tokens for mobile-first development.

Purpose: Create a solid foundation of breakpoints, spacing, and typography that all subsequent mobile work depends on. Without consistent breakpoints, responsive code becomes fragmented and hard to maintain.

Output: Enhanced Tailwind config with 7 breakpoints (xs through 2xl), responsive spacing/typography tokens, and CSS custom properties for dynamic values.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-phase.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/15-mobile-foundation/RESEARCH.md

**Key files:**
@tailwind.config.js
@src/app/globals.css

**From Research - Breakpoint System:**
Current Tailwind uses only default breakpoints (sm:640px, md:768px, lg:1024px). Missing critical phone sizes - 68% of mobile traffic comes from 375-428px screens.

**Enhanced breakpoints needed:**
- xs: 320px (iPhone SE, small phones)
- sm: 375px (standard phones - iPhone 12/13/14)
- md: 428px (large phones - iPhone Pro Max)
- tablet: 768px (iPad Mini)
- lg: 1024px (tablets landscape, small laptops)
- xl: 1280px (desktops)
- 2xl: 1536px (large desktops)

**From Research - Design Tokens:**
Responsive spacing: px-4 → px-5 → px-6 → px-8 as screen grows
Responsive typography: text-2xl → text-3xl → text-4xl → text-5xl for headings

**Existing mobile CSS (keep and enhance):**
- Touch targets: min-height: 44px (already in globals.css)
- Safe area insets (already defined)
- iOS 100vh fix (already implemented)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Enhance Tailwind config with custom breakpoints and design tokens</name>
  <files>tailwind.config.js</files>
  <action>
Update tailwind.config.js with:

1. **Custom breakpoints** (replace default screens):
```javascript
screens: {
  'xs': '320px',    // Small phones (iPhone SE)
  'sm': '375px',    // Standard phones (iPhone 12/13/14)
  'md': '428px',    // Large phones (iPhone Pro Max)
  'tablet': '768px', // Tablets (iPad Mini)
  'lg': '1024px',   // Tablets landscape / Small laptops
  'xl': '1280px',   // Desktops
  '2xl': '1536px',  // Large desktops
}
```

2. **Responsive spacing tokens** in theme.extend.spacing:
```javascript
spacing: {
  'page': '1rem',        // Base page padding (mobile)
  'page-sm': '1.25rem',  // 20px
  'page-md': '1.5rem',   // 24px
  'page-lg': '2rem',     // 32px
  'section': '1rem',     // Base section gap
  'section-md': '1.5rem',
  'section-lg': '2rem',
  'card': '1rem',        // Card padding
  'card-md': '1.5rem',
  'card-lg': '2rem',
}
```

3. **Responsive typography scale** in theme.extend.fontSize:
```javascript
fontSize: {
  'heading-1': ['1.5rem', { lineHeight: '2rem', fontWeight: '700' }],     // 24px mobile
  'heading-1-sm': ['1.875rem', { lineHeight: '2.25rem', fontWeight: '700' }], // 30px
  'heading-1-md': ['2.25rem', { lineHeight: '2.5rem', fontWeight: '700' }],   // 36px
  'heading-1-lg': ['3rem', { lineHeight: '3.5rem', fontWeight: '700' }],      // 48px
  'heading-2': ['1.25rem', { lineHeight: '1.75rem', fontWeight: '600' }],  // 20px mobile
  'heading-2-sm': ['1.5rem', { lineHeight: '2rem', fontWeight: '600' }],
  'heading-2-md': ['1.875rem', { lineHeight: '2.25rem', fontWeight: '600' }],
  'heading-3': ['1.125rem', { lineHeight: '1.5rem', fontWeight: '600' }],  // 18px mobile
  'heading-3-sm': ['1.25rem', { lineHeight: '1.75rem', fontWeight: '600' }],
  'body-sm': ['0.875rem', { lineHeight: '1.25rem' }],  // 14px
  'body': ['1rem', { lineHeight: '1.5rem' }],          // 16px
  'caption': ['0.75rem', { lineHeight: '1rem' }],      // 12px
}
```

**IMPORTANT:**
- Do NOT remove existing colors, shadows, or other configurations
- Add screens INSIDE theme (not extend) to replace defaults
- Add spacing and fontSize inside theme.extend to supplement existing
  </action>
  <verify>
Run: `npx tailwindcss --help` to verify Tailwind is valid
Create a test: add `xs:bg-red-500 sm:bg-blue-500 tablet:bg-green-500` to any element and resize browser to verify breakpoints work
  </verify>
  <done>
- 7 breakpoints defined (xs, sm, md, tablet, lg, xl, 2xl)
- Responsive spacing tokens available
- Responsive typography scale defined
- Existing config preserved (colors, shadows, etc.)
  </done>
</task>

<task type="auto">
  <name>Task 2: Create responsive CSS custom properties and utility classes</name>
  <files>src/app/globals.css</files>
  <action>
Add to globals.css after the existing mobile optimizations section:

1. **CSS Custom Properties for responsive values** (in :root):
```css
/* Responsive Design Tokens */
--spacing-page-x: 1rem;
--spacing-page-y: 1rem;
--spacing-section: 1rem;
--spacing-card: 1rem;
--spacing-stack: 0.75rem;
--font-heading-1: 1.5rem;
--font-heading-2: 1.25rem;
--font-heading-3: 1.125rem;
```

2. **Media queries to update CSS variables at each breakpoint**:
```css
@media (min-width: 375px) { /* sm breakpoint */
  :root {
    --spacing-page-x: 1.25rem;
    --spacing-stack: 1rem;
    --font-heading-1: 1.875rem;
  }
}

@media (min-width: 768px) { /* tablet breakpoint */
  :root {
    --spacing-page-x: 1.5rem;
    --spacing-page-y: 1.5rem;
    --spacing-section: 1.5rem;
    --spacing-card: 1.5rem;
    --spacing-stack: 1rem;
    --font-heading-1: 2.25rem;
    --font-heading-2: 1.5rem;
    --font-heading-3: 1.25rem;
  }
}

@media (min-width: 1024px) { /* lg breakpoint */
  :root {
    --spacing-page-x: 2rem;
    --spacing-page-y: 2rem;
    --spacing-section: 2rem;
    --spacing-card: 2rem;
    --spacing-stack: 1.5rem;
    --font-heading-1: 3rem;
    --font-heading-2: 1.875rem;
  }
}
```

3. **Utility classes using the CSS variables**:
```css
/* Responsive utility classes */
.page-padding-x { padding-left: var(--spacing-page-x); padding-right: var(--spacing-page-x); }
.page-padding-y { padding-top: var(--spacing-page-y); padding-bottom: var(--spacing-page-y); }
.page-padding { padding: var(--spacing-page-y) var(--spacing-page-x); }
.section-gap { gap: var(--spacing-section); }
.card-padding { padding: var(--spacing-card); }
.stack-gap { gap: var(--spacing-stack); }

/* Responsive typography classes */
.text-heading-1 { font-size: var(--font-heading-1); font-weight: 700; line-height: 1.2; }
.text-heading-2 { font-size: var(--font-heading-2); font-weight: 600; line-height: 1.3; }
.text-heading-3 { font-size: var(--font-heading-3); font-weight: 600; line-height: 1.4; }
```

4. **Touch target utility classes** (enhance existing):
```css
/* Touch target utilities */
.touch-target { min-height: 44px; min-width: 44px; }
.touch-target-lg { min-height: 48px; min-width: 48px; }
.touch-target-interactive {
  min-height: 44px;
  min-width: 44px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}
```

5. **Container width utilities**:
```css
/* Container utilities */
.container-responsive {
  width: 100%;
  max-width: 100%;
  margin-left: auto;
  margin-right: auto;
  padding-left: var(--spacing-page-x);
  padding-right: var(--spacing-page-x);
}

@media (min-width: 1280px) {
  .container-responsive { max-width: 1200px; }
}

@media (min-width: 1536px) {
  .container-responsive { max-width: 1400px; }
}
```

**IMPORTANT:**
- Keep ALL existing CSS (scrollbar styles, animations, dark mode, etc.)
- Add new sections AFTER existing mobile optimizations (after line 324)
- Ensure dark mode compatibility (CSS variables work in both modes)
  </action>
  <verify>
Run: `npm run dev` and inspect elements to verify CSS variables are applied
Test: Resize browser and verify --spacing-page-x changes at breakpoints using browser DevTools
  </verify>
  <done>
- CSS custom properties defined for spacing and typography
- Media queries update variables at breakpoints
- Utility classes available (.page-padding, .section-gap, .card-padding, etc.)
- Touch target utilities enhanced
- Container utility with responsive max-width
  </done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] Tailwind breakpoints work (xs through 2xl)
- [ ] CSS custom properties change at breakpoints (inspect in DevTools)
- [ ] Utility classes apply correctly (.page-padding, .touch-target, etc.)
- [ ] No regression in existing styles (colors, dark mode, animations)
</verification>

<success_criteria>
- Tailwind config has 7 custom breakpoints (xs, sm, md, tablet, lg, xl, 2xl)
- Responsive spacing and typography tokens defined
- CSS custom properties update at each breakpoint
- Utility classes available for responsive layouts
- Build passes, no regressions
</success_criteria>

<output>
After completion, create `.planning/phases/15-mobile-foundation/15-01-SUMMARY.md` with:
- Breakpoints defined and rationale
- Design tokens added
- CSS utilities created
- Files modified
- Verification results
</output>
