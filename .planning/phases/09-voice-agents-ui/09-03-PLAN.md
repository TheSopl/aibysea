---
phase: 09-voice-agents-ui
plan: 03
type: auto
---

<objective>
Create Phone Numbers and Voice Settings pages for managing phone numbers, routing rules, and voice service configuration.

Purpose: Enable operators to manage phone number inventory, configure call routing, set voicemail rules, and adjust voice service settings.

Output: New Phone Numbers page at `/phone-numbers` and Voice Settings page at `/voice-settings` using teal service colors.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@src/app/(main)/agents/page.tsx
@src/components/layout/Sidebar.tsx

**Reference patterns:**
- Settings page structure for configuration pages
- Agent cards and list patterns from voice-agents page
- Card-based layouts with form fields
- Toggle switches and dropdown selectors
- Status indicators

**Phone Numbers page specifics:**
- Service color: Teal gradient (#10B981 â†’ #06B6D4)
- Display: List of phone numbers with country, status, assigned agent, call volume
- Features: Add/remove numbers, assign to agents, configure forwarding
- Status: Active, Paused, Testing
- Mock data: 5-6 phone numbers with different countries and configurations

**Voice Settings page specifics:**
- Service color: Teal gradient (same as voice agents)
- Settings: Greeting message, voicemail settings, call routing rules, language preferences
- Features: Toggle settings, text areas for messages, language selector, timeout settings
- Configuration: Default agent assignment, call queue behavior, transfer rules

**Design system available:**
- Teal service color from Phase 8-03
- Form patterns from settings pages (toggles, dropdowns, text areas)
- Card layouts from agents page
- Teal accent colors for buttons and highlights

**Constraints:**
- Create Phone Numbers page with number list and quick actions
- Create Voice Settings page with configuration options
- Use teal colors throughout
- All mock data (real settings in Phase 11)
- Support for adding/removing numbers (UI only, no backend)
- Toggle switches for boolean settings
- Responsive form layout
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Phone Numbers page with number list, status, and quick actions</name>
  <files>src/app/(main)/phone-numbers/page.tsx</files>
  <action>
  Create new page at `src/app/(main)/phone-numbers/page.tsx` with:

  1. TopBar component with title "Phone Numbers"

  2. Phone numbers list with cards showing:
     - Phone number (formatted: +1 (555) 123-4567)
     - Country flag emoji and country name
     - Status (Active, Paused, Testing)
     - Assigned agent
     - Monthly cost
     - Action buttons: Pause/Resume toggle, Edit, Delete, Settings

  3. Summary stats at top:
     - Active Numbers: count
     - Total Monthly Cost: sum
     - Pending Numbers: count
     - Test Numbers: count

  4. Create mock data:
     ```typescript
     const phoneNumbers = [
       {
         id: 1,
         number: '+1-555-0123',
         country: 'United States',
         flag: 'ðŸ‡ºðŸ‡¸',
         status: 'active',
         assignedAgent: 'Sales Voice Agent',
         monthlyCost: 29.99,
         incomingCalls: 1247,
         conversions: 156
       },
       // ... 5-6 more numbers
     ]
     ```

  5. Styling:
     - Card layout with hover effects
     - Status badge: green for Active, gray for Paused, amber for Testing
     - Use teal colors for buttons and highlights
     - "Add Phone Number" button at top right
     - Country flags for quick visual identification

  6. Features:
     - Grid layout (3 columns on desktop, 2 on tablet, 1 on mobile)
     - Click card to see full details/edit
     - Toggle buttons for pause/resume
     - Delete confirmation (optional)
  </action>
  <verify>
  npm run dev && navigate to /phone-numbers
  - Page loads with TopBar showing "Phone Numbers"
  - Summary stats display at top (4 cards)
  - Phone number cards render with all information
  - Country flags and status badges show correctly
  - Action buttons present and interactive
  - "Add Phone Number" button visible
  - Status colors are correct
  - Responsive grid layout works
  - No console errors
  </verify>
  <done>Phone Numbers page created with number list, status indicators, and action buttons</done>
</task>

<task type="auto">
  <name>Task 2: Create Voice Settings page with configuration options</name>
  <files>src/app/(main)/voice-settings/page.tsx</files>
  <action>
  Create new page at `src/app/(main)/voice-settings/page.tsx` with:

  1. TopBar component with title "Voice Settings"

  2. Settings grouped in sections (cards):
     - **Greeting Settings**
       - Default greeting message (textarea)
       - Language selector (dropdown: English, Spanish, French, Arabic)
       - Enable/disable greeting toggle

     - **Voicemail Settings**
       - Enable voicemail toggle
       - Voicemail greeting message (textarea)
       - Max voicemail duration (minutes, number input)
       - Save transcription toggle

     - **Call Routing Settings**
       - Default agent assignment (dropdown: select from voice agents)
       - Call queue behavior (dropdown: Round-robin, Random, Skill-based)
       - Max concurrent calls (number input)
       - Call timeout (seconds, number input)

     - **Advanced Settings**
       - Enable recording toggle
       - DTMF tones toggle
       - Call transfer rules (text input)
       - Webhook URL for call events (text input)

  3. Form layout:
     - Settings in separate cards (light background)
     - Labels above inputs
     - Help text under inputs
     - Save button at bottom (applies to all settings)

  4. Styling:
     - Use teal colors for toggle switches when enabled
     - Form fields: clean white inputs, subtle borders
     - Cards with light gray background
     - "Save Changes" button with teal gradient

  5. Mock data (default values):
     - Greeting: "Thank you for calling AI BY SEA..."
     - Language: English
     - Voicemail enabled: true
     - Voicemail duration: 120 seconds
     - Default agent: First voice agent
     - Recording enabled: true
     - All other toggles: enabled
  </action>
  <verify>
  npm run dev && navigate to /voice-settings
  - Page loads with TopBar showing "Voice Settings"
  - 4 settings sections visible
  - All form fields render (textareas, inputs, dropdowns, toggles)
  - Toggles have teal color when enabled
  - Labels and help text display
  - "Save Changes" button at bottom
  - Form is responsive (stacks on mobile)
  - Default values populate fields
  - No console errors
  </verify>
  <done>Voice Settings page complete with all configuration options and form controls</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] No TypeScript errors in phone-numbers/page.tsx and voice-settings/page.tsx
- [ ] /phone-numbers page loads without errors
- [ ] /voice-settings page loads without errors
- [ ] Phone number cards display with all information
- [ ] Status badges show correct colors
- [ ] Settings form fields render correctly
- [ ] Toggle switches work (visual feedback)
- [ ] Country flags display correctly
- [ ] Responsive design maintained on both pages
- [ ] All mock data displays correctly
</verification>

<success_criteria>

- Phone Numbers page created with number inventory display
- Phone number cards show status, country, agent assignment, and cost
- Voice Settings page created with configuration options
- Settings organized in logical groups with form controls
- Teal service colors applied throughout
- Mock data properly integrated
- Toggle switches functional
- Responsive design maintained
- Phase 9 complete, ready for execution
- Ready for Phase 10 (Document Intelligence UI)

</success_criteria>

<output>
After completion, create `.planning/phases/09-voice-agents-ui/09-03-SUMMARY.md`:

# Phase 9 Plan 3: Phone Numbers and Voice Settings Summary

**Created Phone Numbers and Voice Settings pages for managing voice service infrastructure and configuration.**

## Accomplishments

- Created new page at `/phone-numbers` with phone number inventory display
- Implemented phone number cards with country, status, agent assignment, and cost information
- Added summary stats showing active numbers, monthly cost, pending, and test numbers
- Created new page at `/voice-settings` with comprehensive configuration options
- Implemented settings sections: Greeting, Voicemail, Call Routing, Advanced
- Added form controls: textareas, dropdowns, number inputs, toggle switches
- Applied teal service colors throughout both pages
- Integrated mock data with realistic configuration values

## Files Created/Modified

- `src/app/(main)/phone-numbers/page.tsx` - Phone Numbers inventory page with status and controls
- `src/app/(main)/voice-settings/page.tsx` - Voice Settings configuration page with form controls

## Implementation Details

### Phone Numbers Page
- **Summary Stats**: 4 cards showing Active Numbers, Monthly Cost, Pending, Test Numbers
- **Phone Number Cards**: Grid layout (responsive: 3/2/1 columns)
  - Display: Country flag, phone number, status, assigned agent, monthly cost
  - Actions: Pause/Resume toggle, Edit, Delete, Settings
  - Status colors: green (Active), gray (Paused), amber (Testing)
- **Add Phone Number**: Button to add new phone numbers

### Voice Settings Page
- **Greeting Settings**: Default message, language selector, enable/disable toggle
- **Voicemail Settings**: Enable toggle, greeting message, max duration, transcription saving
- **Call Routing Settings**: Default agent, queue behavior, max concurrent calls, timeout
- **Advanced Settings**: Recording, DTMF tones, transfer rules, webhook URL
- **Save Changes**: Button to apply all settings

## Design Decisions

- Phone numbers displayed as cards for easy visualization and action
- Settings organized by functional area (greeting, voicemail, routing, advanced)
- Teal colors for service identity and toggle switches when enabled
- Mock data includes realistic configuration defaults
- Form-based settings UI for easy configuration
- Responsive layout for both desktop and mobile views

## Next Steps

Phase 9 complete. Ready for execution via `/gsd:execute-plan` for each of 09-01, 09-02, 09-03.

</output>