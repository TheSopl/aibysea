---
phase: 08-platform-restructure
plan: 01
type: auto
---

<objective>
Restructure sidebar navigation to support three service modules (Conversational, Voice, Documents) with clear visual separation and service-specific icons.

Purpose: Create the structural foundation for the multi-service platform by organizing navigation around service modules instead of features within a single service.

Output: Updated Sidebar component with 3-module navigation, new service icon set, and CSS for visual grouping.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@src/components/layout/Sidebar.tsx
@src/app/globals.css

**Current state:**
- Existing sidebar has 6 icons in flat list (Dashboard, Agents, Inbox, Contacts, Workflows, Settings)
- No service modules or grouping
- Uses Lucide icons throughout
- Established color system: accent gradient (primary/secondary blues)

**Architecture patterns established:**
- Server-wrapper + client component pattern for real-time features
- Tailwind CSS for styling with gradient fills
- Lucide-react for all icons
- Fixed sidebar (80px width, dark gradient background)

**Design system available:**
- Color: Gradient blues for primary, teal for voice, orange for documents
- Animations: Smooth fade/slide with stagger effects (established in v1.0)
- Layout: Icon-based navigation, hover effects with scale

**Constraints:**
- Maintain existing fixed 80px sidebar width
- Keep icon-only design (text hidden, shown on hover)
- Keep existing dashboard and settings in top/bottom positions
- New service modules in middle section
</context>

<tasks>

<task type="auto">
  <name>Task 1: Restructure Sidebar navigation data structure</name>
  <files>src/components/layout/Sidebar.tsx</files>
  <action>
  Refactor the navigation array to organize items into service modules:
  - Keep Dashboard at top
  - Create 3 service module groups: Conversational, Voice, Documents
  - Move existing icons to Conversational module (Inbox, Chat Agents, Contacts)
  - Prepare placeholders for Voice (Voice Agents, Call Logs, Phone Numbers)
  - Prepare placeholders for Documents (Upload, Processing, Data)
  - Keep Analytics, Settings at bottom

  Add module metadata to each group:
  - name: service name
  - color: accent color (accent for conversational, teal for voice, orange for documents)
  - icon: module icon (Chat, Phone, Document)
  - items: array of navigation items in that module

  Do NOT render Voice/Documents items yet - just structure the data. Use Route objects with href="/voice-agents", "/documents", etc. for placeholder routing.
  </action>
  <verify>console.log(navigation) shows 3 modules with correct structure and color metadata</verify>
  <done>Navigation data structured with service modules, colors, icons, and placeholder routes defined</done>
</task>

<task type="auto">
  <name>Task 2: Update Sidebar component to render service modules with visual separation</name>
  <files>src/components/layout/Sidebar.tsx</files>
  <action>
  Modify Sidebar render to display service modules:
  - Dashboard link at top (unchanged)
  - For each service module:
    - Add visual divider (1px line with white/10 opacity)
    - Render module section with small module icon and subtle label
    - Render all items in that module with existing hover behavior
    - Use module.color to tint the module icon on hover
  - Keep Analytics and Settings at bottom

  Implementation details:
  - Module icon: Add 12-14px icon above items in each section
  - Module label: Hidden by default, show on hover (like existing tooltips - but DELETE the tooltip divs we removed earlier)
  - Spacing: 8px vertical divider, 6px padding between modules
  - Color: Use the module.color to tint icon on hover (e.g., shadow glow effect)
  - No changes to individual item styling - reuse existing hover/active states

  Test: Sidebar renders 3 service modules with visual dividers, module icons appear on hover, Conversational module is populated with existing items
  </action>
  <verify>
  npm run dev && navigate to any page
  - Sidebar shows Dashboard at top
  - 3 modules visible with dividers (Conversational, Voice, Documents)
  - Conversational items (Inbox, Agents, Contacts) appear under first module
  - Voice/Documents sections exist but are empty (placeholder state)
  - Settings at bottom
  - No console errors
  </verify>
  <done>Sidebar renders 3 service modules with visual separation, module icons, and proper layout</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] No TypeScript errors in Sidebar.tsx
- [ ] Sidebar renders correctly with 3 modules
- [ ] Module icons appear and respond to hover
- [ ] Existing navigation still works (Dashboard, Conversational items, Settings)
- [ ] No layout shift or overflow
</verification>

<success_criteria>

- Navigation structure reorganized into 3 service modules
- Sidebar component renders modules with visual dividers
- Module icons and metadata properly configured
- Existing items function correctly under Conversational module
- No TypeScript or build errors
- Ready for 08-02 (Dashboard redesign)

</success_criteria>

<output>
After completion, create `.planning/phases/08-platform-restructure/08-01-SUMMARY.md`:

# Phase 8 Plan 1: Sidebar Navigation Restructure Summary

**Restructured sidebar navigation to support 3 service modules with clear visual separation.**

## Accomplishments

- Refactored navigation data structure into service modules (Conversational, Voice, Documents)
- Added module metadata (name, color, icon) for design system integration
- Updated Sidebar component to render modules with visual dividers and module icons
- Maintained existing functionality for Conversational module items
- Prepared placeholder routes for Voice and Documents modules

## Files Created/Modified

- `src/components/layout/Sidebar.tsx` - Restructured navigation array, added module rendering logic

## Decisions Made

- Module icons show on hover (hidden at rest to preserve 80px sidebar width)
- Colors: Accent gradient for Conversational, teal for Voice, orange for Documents
- Visual dividers (1px lines) separate service modules
- Existing item styling unchanged (reuse hover/active states)

## Issues Encountered

None

## Next Step

Ready for 08-02-PLAN.md (Dashboard redesign for multi-service view)
</output>
